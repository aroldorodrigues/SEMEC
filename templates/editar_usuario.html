
{% extends 'blank.html' %}
{% block central %}

<div style="position: relative;">
    <h1 style="text-align: center; font-weight: bold; color: white; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 24px;">EDITAR SERVIDORES</h1>
    <div style="background-color: #023059; height: 50px;"></div>
</div>

    {% csrf_token %}
    <!-- Exibir a imagem atual -->
    {% if form.instance.imagem_perfil %}
    <img src="{{ form.instance.imagem_perfil.url }}" alt="Imagem Atual" width="100" height="120">
    {% endif %}
    
    <!-- Adicionar campo de upload de imagem -->
    <label for="id_imagem_perfil">Editar Imagem:</label>
    {{ form.imagem_perfil }}

    <form method="post" enctype="multipart/form-data" class="text-center" style="margin-top: 0px;">
        {% csrf_token %}
        <div class="form-row justify-content-center">
            <div class="form-group col-md-4" style="border: 1px solid #ccc; padding: 5px;">
                {% comment %} <label for="id_nome">Nome:</label> {% endcomment %}
                <input type="text" class="form-control" id="id_nome" name="nome" placeholder="Nome Completo...">
            </div>
            <div class="form-group col-md-4" style="border: 1px solid #ccc; padding: 5px;">
                {% comment %} <label for="id_rg">RG:</label> {% endcomment %}
                <input type="text" class="form-control" id="id_rg" name="rg" placeholder="Digite o RG...">
            </div>
            <div class="form-group col-md-4" style="border: 1px solid #ccc; padding: 5px;">
                {% comment %} <label for="id_org_expedidor">Org expedidor:</label> {% endcomment %}
                <select class="form-control" id="id_org_expedidor" name="org_expedidor">
                    <option value="">Selecione o org expedidor</option>
                    <option value="SSP/AL">SSP/AL</option>
                    <option value="SSPO">SSPO</option>
                    <option value="outro">Outro</option>
                </select>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-4" style="border: 1px solid #ccc; padding: 5px;">
                {% comment %} <label for="id_cpf">CPF:</label> {% endcomment %}
                <input type="text" class="form-control" id="id_cpf" name="cpf" placeholder="Insira o CPF...">
            </div>
            <div class="form-group col-md-4" style="border: 1px solid #ccc; padding: 5px;">
                {% comment %} <label for="id_email">Email:</label> {% endcomment %}
                <input type="email" class="form-control" id="id_email" name="email" placeholder="Ex.:semecgirau@gmail.com">
            </div>
            <div class="form-group col-md-4" style="border: 1px solid #ccc; padding: 5px;">
                {% comment %} <label for="id_telefone">Telefone:</label> {% endcomment %}
                <input type="text" class="form-control" id="id_telefone" name="telefone" placeholder="Telefone para contato...">
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-4" style="border: 1px solid #ccc; padding: 5px;">
                {% comment %} <label for="id_cargo">Cargo:</label> {% endcomment %}
                <input type="text" class="form-control" id="id_cargo" name="cargo" placeholder="Digite o cargo...">
            </div>
            <div class="form-group col-md-4" style="border: 1px solid #ccc; padding: 5px;">
                {% comment %} <label for="id_vinculo">Vínculo:</label> {% endcomment %}
                <select class="form-control" id="id_vinculo" name="vinculo">
                    <option value="">Selecione o vínculo</option>
                    <option value="Efetivo">Efetivo</option>
                    <option value="Temporário">Temporário</option>
                    <option value="Comissionado">Comissionado</option>
                    <option value="Outro">Outro</option>
                </select>
            </div>
            <div class="form-group col-md-4" style="border: 1px solid #ccc; padding: 5px;">
                {% comment %} <label for="id_ch">CH:</label> {% endcomment %}
                <input type="text" class="form-control" id="id_ch" name="ch" placeholder="Carga Horária (Ex.: 20h)">
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-4" style="border: 1px solid #ccc; padding: 5px;">
                {% comment %} <label for="id_instituicao">Instituição:</label> {% endcomment %}
                <input type="text" class="form-control" id="id_instituicao" name="instituicao" placeholder="Digite a instituição...">
            </div>
            <div class="

            form-group col-md-4" style="border: 1px solid #ccc; padding: 5px;">
            {% comment %} <label for="id_escolaridade">Escolaridade:</label> {% endcomment %}
            <select class="form-control" id="id_escolaridade" name="escolaridade">
                <option value="">Selecione a escolaridade</option>
                <option value="Ens. Fundamental">Ens. Fundamental</option>
                <option value="Ens. Médio">Ens. Médio</option>
                <option value="Ens. Médio Incompleto">Ens. Médio Incompleto</option>
                <option value="Superior">Superior</option>
                <option value="Superior Incompleto">Superior Incompleto</option>
                <option value="Mestre">Mestre</option>
                <option value="Doutor">Doutor(a)</option>
            </select>
        </div>
        
        <div class="form-group col-md-4" style="border: 1px solid #ccc; padding: 5px;">
            {% comment %} <label for="id_endereco">Endereço:</label> {% endcomment %}
            <input type="text" class="form-control" id="id_endereco" name="endereco" placeholder="Digite o endereço...">
        </div>

        <button type="submit" class="btn btn-primary" style="background-color: #0E7331; width: 200px; margin: 80px auto 0;">SALVAR ALTERAÇÕES</button>
        <div id="successMessage" class="alert alert-success alert-dismissible fade mt-3" role="alert" style="display: none;">
            Alterações feitas com sucesso!
            <button type="button" class="close" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        
        <script>
            document.getElementById("saveButton").addEventListener("click", function() {
                // Exibir a mensagem de sucesso
                document.getElementById("successMessage").style.display = "block";
        
                // Fechar a mensagem após 5 segundos
                setTimeout(function() {
                    document.getElementById("successMessage").style.display = "none";
                }, 5000);
            });
        </script>
</form>

{% if messages %}
<div class="alert alert-success alert-dismissible fade show mt-3" role="alert">
    {% for message in messages %}
    {{ message }}
    {% endfor %}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
{% endif %}

{% endblock %}